(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{57:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"quick-start"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#quick-start","aria-hidden":"true"}},[t._v("#")]),t._v(" Quick Start")]),t._v(" "),e("p",[t._v("This short tutorial is listing steps required to start a new project relying on Odem and "),e("a",{attrs:{href:"https://hitchyjs.github.io/core/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hitchy"),e("OutboundLink")],1),t._v(" to establish a server-side application that's exposing a REST API for storing data.")]),t._v(" "),e("h2",{attrs:{id:"setup-project"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setup-project","aria-hidden":"true"}},[t._v("#")]),t._v(" Setup Project")]),t._v(" "),e("p",[t._v("First create a folder for your application and enter it:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" my-new-app\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" my-new-app\n")])])]),e("p",[t._v("Initialize your application's package management so dependencies are tracked:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init\n")])])]),e("p",[t._v("Answer all the questions according to your needs.")]),t._v(" "),e("p",[t._v("Now install "),e("a",{attrs:{href:"https://www.npmjs.com/package/hitchy",target:"_blank",rel:"noopener noreferrer"}},[t._v("hitchy"),e("OutboundLink")],1),t._v(" and "),e("a",{attrs:{href:"https://www.npmjs.com/package/hitchy-plugin-odem-rest",target:"_blank",rel:"noopener noreferrer"}},[t._v("hitchy-plugin-odem-rest"),e("OutboundLink")],1),t._v(" as dependencies:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hitchy hitchy-plugin-odem-rest\n")])])]),e("div",{staticClass:"tip custom-block"},[e("p",[t._v("Installing "),e("a",{attrs:{href:"https://www.npmjs.com/package/hitchy-plugin-odem-rest",target:"_blank",rel:"noopener noreferrer"}},[t._v("hitchy-plugin-odem-rest"),e("OutboundLink")],1),t._v(" is implicitly fetching "),e("a",{attrs:{href:"https://www.npmjs.com/package/hitchy-plugin-odem",target:"_blank",rel:"noopener noreferrer"}},[t._v("hitchy-plugin-odem"),e("OutboundLink")],1),t._v(" as a dependency. That's why you don't need to install it explicitly here while instantly benefitting from a REST API for accessing your data.")])]),t._v(" "),e("h2",{attrs:{id:"define-models"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#define-models","aria-hidden":"true"}},[t._v("#")]),t._v(" Define Models")]),t._v(" "),e("p",[t._v("Create a folder for your models:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p api/models\n")])])]),e("p",[t._v("Put all the model definition files in there.")]),t._v(" "),e("p",[t._v("Let's create something ravish like a blog ðŸ˜‰. This would require definition of a "),e("strong",[t._v("post")]),t._v(", thus create a file named "),e("strong",[t._v("api/models/post.js")]),t._v(" with the following content:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    props"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" required"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        teaser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        content"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" required"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        createdAt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"date"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    hooks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterCreate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$isNew "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("createdAt "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"start-hitchy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start-hitchy","aria-hidden":"true"}},[t._v("#")]),t._v(" Start Hitchy")]),t._v(" "),e("p",[t._v("At this point Hitchy is ready for managing blog posts via REST API. Thus, start it with:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("hitchy start\n")])])]),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("Hitchy not found?")]),t._v(" "),e("p",[t._v("If hitchy isn't found this might be due to issues with your Node.js and npm setup. In most cases using "),e("strong",[t._v("npx")]),t._v(" solves this issue for now:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("npx hitchy start\n")])])])]),t._v(" "),e("p",[t._v("Keep it running while trying out next.")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[t._v("Whenever you want to stop Hitchy press Ctrl+C to gracefully shut it down.")])]),t._v(" "),e("h2",{attrs:{id:"try-it-out"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#try-it-out","aria-hidden":"true"}},[t._v("#")]),t._v(" Try It Out")]),t._v(" "),e("p",[t._v("Open your browser and enter URL displayed in output of running Hitchy. Let's assume it reads "),e("a",{attrs:{href:"http://127.0.0.1:3000",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000"),e("OutboundLink")],1),t._v(", so open this URL in your browser.")]),t._v(" "),e("p",[t._v("It will render very simple error page regarding request for unknown page. That's okay because automatic REST API is the only thing that's instantly available and this is using the configurable prefix "),e("strong",[t._v("/api/")]),t._v(". So, try to fetch its base URL "),e("a",{attrs:{href:"http://127.0.0.1:3000/api",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000/api"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("It will render the same error page. That's still okay because the exposed REST API needs to know a model you like to work with at least. The model's name is appended to the URL. We've created a model named "),e("strong",[t._v("post")]),t._v(", so that's what you need to append to URL. Try fetching URL "),e("a",{attrs:{href:"http://127.0.0.1:3000/api/post",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000/api/post"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("This time you get a different response. There is HTML document, but some JSON-formatted data. It reads similar to this one:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"items"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("It says to have no existing items for the selected model. Let's create one now by opening URL "),e("a",{attrs:{href:"http://127.0.0.1:3000/api/post/create?title=My%20First%20Blog%20Post&content=read%20this",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000/api/post/create?title=My First Blog Post&content=read this"),e("OutboundLink")],1),t._v(". This results in a different JSON-formatted response:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0ece354f-06d5-415c-8910-27ee72f380f7"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Basically, this response is a good one for it's providing the unique ID of the actually created post.")]),t._v(" "),e("p",[t._v("Return to the previous URL "),e("a",{attrs:{href:"http://127.0.0.1:3000/api/post",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000/api/post"),e("OutboundLink")],1),t._v(" and see the list isn't empty any more:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"items"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"My First Blog Post"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"read this"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"createdAt"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-08-16T09:01:52.000Z"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uuid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0ece354f-06d5-415c-8910-27ee72f380f7"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("This time the list of "),e("strong",[t._v("items")]),t._v(" contains one object consisting of the properties "),e("strong",[t._v("title")]),t._v(" and "),e("strong",[t._v("content")]),t._v(" as provided on creating post. In addition there is a timestamp in property "),e("strong",[t._v("createdAt")]),t._v(" which is due to the "),e("router-link",{attrs:{to:"/api/model.html#instance-aftercreate"}},[t._v("hook afterCreate()")]),t._v(" included with the model's definition file above. Eventually there is the same UUID as returned on creating the post.")],1),t._v(" "),e("p",[t._v("Append this UUID to the listing's URL to get that post's record, only. Open URL\n"),e("a",{attrs:{href:"http://127.0.0.1:3000/api/post/0ece354f-06d5-415c-8910-27ee72f380f7",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000/api/post/0ece354f-06d5-415c-8910-27ee72f380f7"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("IDs are unique")]),t._v(" "),e("p",[t._v("Be aware that the UUID in this example is different from the one you've got before, most probably. Thus you have to replace it with your UUID.")])]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("This is REST API?")]),t._v(" "),e("p",[t._v("Well, it's "),e("em",[t._v("sort of")]),t._v(" REST API.")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.npmjs.com/package/hitchy-plugin-odem-rest",target:"_blank",rel:"noopener noreferrer"}},[t._v("hitchy-plugin-odem-rest"),e("OutboundLink")],1),t._v(" comes with a set of GET-only requests to support instant and easy management of items by using browser, only. Apart from that there is a more sophisticated REST API supported as well.")]),t._v(" "),e("p",[t._v("So, instead of using URL given above long term you should stick with doing POST-requests for "),e("a",{attrs:{href:"http://127.0.0.1:3000/api/post",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:3000/api/post"),e("OutboundLink")],1),t._v(" with properties provided in request body for creating new items.")])])])}),[],!1,null,null,null);s.default=n.exports}}]);